# Deploy odoo software using docker compose

1- Installing docker compose

   sudo curl -SL https://github.com/docker/compose/releases/download/v2.23.3/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose
   sudo chmod +x /usr/local/bin/docker-compose
   docker-compose -v

2- Deploy application
   - vi docker-compose.yml
   - In the 05_lab-5 folder in this directory, check that the access port is 80 and that the odoo and db containers are in the odoo_network network
   - copie example yml file from odoo and edit it:https://hub.docker.com/_/odoo/

begin file************************
services:
  web:
    image: odoo:12.0
    depends_on:
      - db
    ports:
      - "8080:8069"
    volumes:
      - odoo-web-data:/var/lib/odoo
      - ./config:/etc/odoo
      - ./addons:/mnt/extra-addons
    networks:
      -odoo_network
  db:
    image: postgres:10
    environment:
      - POSTGRES_DB=postgres
      - POSTGRES_PASSWORD=odoo
      - POSTGRES_USER=odoo
      - PGDATA=/var/lib/postgresql/data/pgdata
    volumes:
      - odoo-db-data:/var/lib/postgresql/data/pgdata
    networks:
      - odoo_network
volumes:
  odoo-web-data:
  odoo-db-data:
networks:
  odoo_network:
  
end file************************
   - save the file :wq
   - Deploy: docker-compose up -d
   - restart docker if the port 80 is used:sudo systemctl restart docker
   - Verify: docker ps
   - verify:docker-compose ps
   - In the browser: 192.168.99.10:80 
   - See the logs:docker-compose logs
   - See contain of docker-compose: ls
   - NB: every command must be execute in same folder than docker compose
   - Astuce:use https://www.composerize.com/ or https://github.com/composerize/composerize to read esealy the docker-composer.yml
